<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markov Chain Text Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ”— Markov Chain Text Generator</h1>
            <p class="subtitle">This models generate intelligent text patterns By Using Markov Chain Concept</p>
        </header>

        <div class="card">
            <label for="inputText">Enter Your Text</label>
            <textarea 
                id="inputText" 
                placeholder="Paste or type your text here. The more text you provide, the better output you will get"
            ></textarea>
            
            <div class="button-group">
                <button id="buildChain" class="btn btn-primary"> Build Markov Chain</button>
                <button id="loadSample" class="btn btn-secondary"> Load Sample Text</button>
                <button id="clearAll" class="btn btn-secondary"> Clear All</button>
            </div>
        </div>

        <div class="card">
            <div class="control-group">
                <label for="wordCount">Number of Words to Generate (5-500) </label>
                <input type="number" id="wordCount" value="30" min="5" max="500">
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="showRestarts" checked>
                <label for="showRestarts">Show [New-Start] markers when chain ends</label>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="enableParagraphs">
                <label for="enableParagraphs">Generate multiple paragraphs (disable random restarts)</label>
            </div>
            
            <div class="control-group" id="paragraphControl" style="display: none;">
                <label for="paragraphCount">Number of Paragraphs (1-5)</label>
                <input type="number" id="paragraphCount" value="3" min="1" max="5">
            </div>
            
            <button id="generateText" class="btn btn-success" disabled> Generate Text</button>
        </div>

        <div class="card">
            <label>Generated Output</label>
            <div id="generatedOutput" class="output-box">
                <p class="placeholder">Generated text will appear here...</p>
            </div>
        </div>

        <div class="card" id="statsSection" style="display: none;">
            <div class="collapsible-header" id="statsHeader">
                <h3> Top 10 Most Frequent Transitions</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div id="statsContent" class="collapsible-content">
                <div id="topTransitions" class="top-transitions"></div>
            </div>
        </div>

        <div class="card">
            <div class="collapsible-header" id="tableHeader">
                <h3> Transition Table</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div id="tableContent" class="collapsible-content">
                <div id="transitionTable" class="table-container">
                    <p class="placeholder">Build a Markov chain to see the transition table...</p>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="collapsible-header" id="diagramHeader">
                <h3> State Diagram</h3>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div id="diagramContent" class="collapsible-content">
                <div class="diagram-info">
                    <p>Showing first 20 unique words and their transitions</p>
                    <p style="font-size: 0.85em; margin-top: 8px;">Hover over nodes to highlight | Click to focus | Use mouse wheel to zoom | Drag to pan</p>
                </div>
                <div style="display: flex; gap: 10px; margin-bottom: 16px; align-items: center;">
                    <input type="text" id="searchNode" placeholder="Search for a word..." style="flex: 1; padding: 8px 12px; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; color: var(--text-primary); font-size: 0.95em;">
                    <button id="resetZoom" class="btn btn-secondary" style="padding: 8px 16px;">Reset View</button>
                </div>
                <canvas id="stateCanvas" width="800" height="600" style="cursor: grab;"></canvas>
            </div>
        </div>

        <footer>
            <p>â€¢ Created and maintained by Kush dalal @yrxkush, bhupender, yamini, hansa chouhan and charvi</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
